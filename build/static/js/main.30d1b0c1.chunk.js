(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{23:function(t,e,n){t.exports={contactForm:"contactForm_contactForm__1tmzf",addBtn:"contactForm_addBtn__2TgDe"}},24:function(t,e,n){t.exports={enter:"shiftAlert_enter__9Nl2u",enterActive:"shiftAlert_enterActive__2RunR",exit:"shiftAlert_exit__2VEHi",exitActive:"shiftAlert_exitActive__dosuB"}},25:function(t,e,n){t.exports={listItem:"contactList_listItem__m42-4",itemName:"contactList_itemName__38Ui_"}},26:function(t,e,n){t.exports={wrapper:"app_wrapper__DSRS5",headerPhoneboo:"app_headerPhoneboo__cfUbr"}},39:function(t,e,n){t.exports={box:"alert_box__xVE4x"}},40:function(t,e,n){t.exports={enter:"shiftAnimation_enter__2O-km",enterActive:"shiftAnimation_enterActive__HerHh",exit:"shiftAnimation_exit__AKuvN",exitActive:"shiftAnimation_exitActive__2XWNr"}},41:function(t,e,n){t.exports={findField:"filter_findField__1DBgq","fade-enter":"filter_fade-enter__2VyH6","fade-enter-active":"filter_fade-enter-active__1Xfl5","fade-exit":"filter_fade-exit__20PKR","fade-exit-active":"filter_fade-exit-active__2qwYv"}},42:function(t,e,n){t.exports={enter:"scaleAnimation_enter__3nrdq",enterActive:"scaleAnimation_enterActive__1HrrS",exit:"scaleAnimation_exit__2wKRn",exitActive:"scaleAnimation_exitActive__-7ORA"}},43:function(t,e,n){t.exports={appear:"shiftAppear_appear__2mUAz",appearActive:"shiftAppear_appearActive__3-bfF"}},45:function(t,e,n){t.exports={loader:"Loader_loader__35lyY"}},46:function(t,e,n){t.exports={modalLoader:"ModalLoader_modalLoader__3FK2G"}},55:function(t,e,n){},98:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(0),c=n(10),o=n.n(c),i=(n(55),n(99)),s=n(9),u=n(11),l=n.n(u),b=n(18),f=n(16),j=n.n(f);j.a.defaults.baseURL="http://localhost:2000";var d,m,p=function(){var t=Object(b.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.post("/contacts",e).then((function(t){return t.data}));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),console.log("error",{error:t.t0}),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(b.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("/contacts").then((function(t){return t.data}));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),console.log("error",{error:t.t0}),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(b.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.delete("/contacts/".concat(e));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),console.log("error",{error:t.t0}),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),x=n(3),_=Object(x.b)("@phBook/addRequest"),v=Object(x.b)("@phBook/addSuccess"),A=Object(x.b)("@phBook/addErrror"),g=Object(x.b)("@phBook/getRequest"),C=Object(x.b)("@phBook/getSuccess"),F=Object(x.b)("@phBook/getErrror"),k=Object(x.b)("@phBook/removeRequest"),N=Object(x.b)("@phBook/removeSuccess"),w=Object(x.b)("@phBook/removeErrror"),y=Object(x.b)("@phBook/setFilter"),L=n(17),B=function(t){return t.loading},S=function(t){return t.contacts.filter},E=function(t){return t.contacts.items},R=Object(L.a)([E,S],(function(t,e){return e?t.filter((function(t){return t.name.toLocaleLowerCase().includes(e.toLocaleLowerCase())})):t})),q=n(4),I=n(37),U=n(38),D=n(48),H=n(47),P=n(39),V=n.n(P),K=function(t){var e=t.text;return Object(r.jsxs)("div",{className:V.a.box,children:[Object(r.jsx)("h4",{children:"Warning!"}),Object(r.jsx)("p",{children:e})]})},z=n(23),J=n.n(z),T=n(24),W=n.n(T),X={name:"",number:"",validateForm:!0,isExistContact:!1},Y=function(t){Object(D.a)(n,t);var e=Object(H.a)(n);function n(){var t;Object(I.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state=X,t.handleInput=function(e){var n=e.target,r=n.name,a=n.value;t.setState(Object(q.a)({},r,a))},t.handleSubmit=function(e){e.preventDefault();var n=t.props.addContact,r=t.state,a=r.name,c=r.number;t.validateForm()&&(n({name:a,number:c}),t.setState(X))},t.onCheckUnique=function(e){var n=!!t.props.listContacts.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));return n?t.setState({isExistContact:!0}):t.setState({isExistContact:!1}),!n},t.validateForm=function(){var e=t.state,n=e.name,r=e.number;return n&&r?(n&&r&&t.setState({validateForm:!0}),t.onCheckUnique(n)):(t.setState({validateForm:!1}),!1)},t}return Object(U.a)(n,[{key:"render",value:function(){var t=this.state.isExistContact,e=this.state,n=e.name,a=e.number,c=e.validateForm;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(i.a,{in:t,classNames:W.a,timeout:250,unmountOnExit:!0,children:Object(r.jsx)(K,{text:"Contact is already exist"})}),Object(r.jsx)(i.a,{in:!c,classNames:W.a,timeout:250,unmountOnExit:!0,children:Object(r.jsx)(K,{text:"Some filed is empty"})}),Object(r.jsxs)("form",{className:J.a.contactForm,onSubmit:this.handleSubmit,children:[Object(r.jsxs)("label",{children:["Name",Object(r.jsx)("input",{type:"text",name:"name",value:n,onChange:this.handleInput})]}),Object(r.jsxs)("label",{children:["Number",Object(r.jsx)("input",{type:"tel",name:"number",value:a,onChange:this.handleInput})]}),Object(r.jsx)("button",{className:J.a.addBtn,type:"submit",children:"Add contact"})]})]})}}]),n}(a.Component),G={addContact:function(t){return function(e){e(_()),p(t).then((function(t){e(v(t))})).catch((function(t){return e(A(t))}))}}},M=Object(s.b)((function(t,e){return{listContacts:E(t)}}),G)(Y),Q=n(100),Z=n(25),$=n.n(Z),tt=n(40),et=n.n(tt),nt=n(41),rt=n.n(nt),at={setFilter:y},ct=Object(s.b)(null,at)((function(t){var e=t.filterValue,n=t.setFilter;return Object(r.jsxs)("form",{className:rt.a.findField,children:[Object(r.jsx)("h3",{children:"Find contacts by name"}),Object(r.jsx)("input",{value:e,onChange:function(t){var e=t.target.value;n(e)}})]})})),ot=n(42),it=n.n(ot),st={removeContactFromList:function(t){return function(e){e(k()),O(t).then((function(){e(N(t))})).catch((function(t){return e(w(t))}))}}},ut=Object(s.b)((function(t,e){return console.log("state",t),{listContacts:E(t),visibleContacts:R(t),filter:S(t)}}),st)((function(t){var e=t.listContacts,n=t.visibleContacts,a=t.filter,c=t.removeContactFromList;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(i.a,{in:e.length>1,classNames:it.a,timeout:250,unmountOnExit:!0,children:Object(r.jsx)(ct,{filterValue:a})}),Object(r.jsx)(Q.a,{component:"ul",children:n.map((function(t){return Object(r.jsx)(i.a,{classNames:et.a,timeout:250,children:Object(r.jsxs)("li",{className:$.a.listItem,children:[Object(r.jsx)("span",{className:$.a.itemName,children:t.name})," ",Object(r.jsx)("span",{children:t.number}),Object(r.jsx)("button",{type:"button",onClick:function(){c(t.id)},children:"\xd7"})]})},t.id)}))})]})})),lt=n(26),bt=n.n(lt),ft=n(43),jt=n.n(ft),dt=n(44),mt=n.n(dt),pt=n(45),ht=n.n(pt),Ot=function(){return Object(r.jsx)(mt.a,{className:ht.a.loader,type:"ThreeDots",color:"#3f51b5",height:100,width:100})},xt=n(46),_t=n.n(xt),vt=function(){return Object(r.jsx)("div",{className:_t.a.modalLoader,children:Object(r.jsx)(Ot,{})})},At=Object(s.b)((function(t){return{isLoading:B(t)}}))((function(t){var e=t.isLoading,n=Object(s.c)();return Object(a.useEffect)((function(){n((function(t){t(g()),h().then((function(e){console.log("data",e),t(C(e))})).catch((function(e){return t(F(e))}))}))}),[]),Object(r.jsxs)(r.Fragment,{children:[e&&Object(r.jsx)(vt,{}),Object(r.jsxs)("div",{className:bt.a.wrapper,children:[Object(r.jsx)(i.a,{in:!0,appear:!0,classNames:jt.a,timeout:500,unmountOnExit:!0,children:Object(r.jsx)("h1",{className:bt.a.headerPhoneboo,children:"Phonebook"})}),Object(r.jsx)(M,{}),Object(r.jsx)(ut,{})]})]})})),gt=n(14),Ct=n(8),Ft=n(15),kt=Object(x.c)([],(d={},Object(q.a)(d,v,(function(t,e){return[e.payload].concat(Object(gt.a)(t))})),Object(q.a)(d,C,(function(t,e){return Object(gt.a)(e.payload)})),Object(q.a)(d,N,(function(t,e){return Object(gt.a)(t.filter((function(t){return t.id!==e.payload})))})),d)),Nt=Object(x.c)("",Object(q.a)({},y,(function(t,e){return e.payload}))),wt=Object(x.c)(!1,(m={},Object(q.a)(m,_,(function(){return!0})),Object(q.a)(m,v,(function(){return!1})),Object(q.a)(m,A,(function(){return!1})),Object(q.a)(m,g,(function(){return!0})),Object(q.a)(m,C,(function(){return!1})),Object(q.a)(m,F,(function(){return!1})),Object(q.a)(m,k,(function(){return!0})),Object(q.a)(m,N,(function(){return!1})),Object(q.a)(m,w,(function(){return!1})),m)),yt=Object(Ct.c)({items:kt,filter:Nt}),Lt=Object(Ct.c)({contacts:yt,loading:wt}),Bt=Object(x.a)({reducer:Lt,middleware:[].concat(Object(gt.a)(Object(x.d)()),[Ft.a])});o.a.render(Object(r.jsx)(s.a,{store:Bt,children:Object(r.jsx)(At,{})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.30d1b0c1.chunk.js.map