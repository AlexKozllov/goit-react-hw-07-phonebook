(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{22:function(t,e,n){t.exports={contactForm:"contactForm_contactForm__uCkGs",addBtn:"contactForm_addBtn__33qDA"}},23:function(t,e,n){t.exports={enter:"shiftAlert_enter__1mTLo",enterActive:"shiftAlert_enterActive__2MT-J",exit:"shiftAlert_exit__3n0AI",exitActive:"shiftAlert_exitActive__M4tx9"}},25:function(t,e,n){t.exports={listItem:"contactList_listItem__3URcy",itemName:"contactList_itemName__3HZb_"}},26:function(t,e,n){t.exports={wrapper:"app_wrapper__2vOdc",headerPhoneboo:"app_headerPhoneboo__xd3De"}},39:function(t,e,n){t.exports={box:"alert_box__3P33L"}},40:function(t,e,n){t.exports={enter:"shiftAnimation_enter__twWl8",enterActive:"shiftAnimation_enterActive__23bGk",exit:"shiftAnimation_exit__2bYRQ",exitActive:"shiftAnimation_exitActive__1J4nN"}},41:function(t,e,n){t.exports={findField:"filter_findField__1ryJ4","fade-enter":"filter_fade-enter__25jDU","fade-enter-active":"filter_fade-enter-active__1ZRNO","fade-exit":"filter_fade-exit__37el3","fade-exit-active":"filter_fade-exit-active__3aoUp"}},42:function(t,e,n){t.exports={enter:"scaleAnimation_enter__2Mm2_",enterActive:"scaleAnimation_enterActive__egy6x",exit:"scaleAnimation_exit__3CQfF",exitActive:"scaleAnimation_exitActive__3kaVU"}},44:function(t,e,n){t.exports={loader:"Loader_loader__1jZT4"}},45:function(t,e,n){t.exports={appear:"shiftAppear_appear__2xjdU",appearActive:"shiftAppear_appearActive__ac0QF"}},54:function(t,e,n){},97:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(0),c=n(11),i=n.n(c),o=(n(54),n(98)),s=n(12),u=n.n(s),l=n(9),b=n(18),j=n(17),f=n.n(j);f.a.defaults.baseURL="http://localhost:2000";var d,p,m=function(){var t=Object(b.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(l.a)(Object(l.a)({},e),{},{completed:!1}),t.prev=1,t.next=4,f.a.post("/contacts",n).then((function(t){return t.data}));case 4:return t.abrupt("return",t.sent);case 7:return t.prev=7,t.t0=t.catch(1),console.log("error",{error:t.t0}),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(b.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/contacts").then((function(t){return t.data}));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),console.log("error",{error:t.t0}),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(b.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.delete("/contacts/".concat(e));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),console.log("error",{error:t.t0}),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),x=n(4),_=Object(x.b)("@phBook/addRequest"),v=Object(x.b)("@phBook/addSuccess"),A=Object(x.b)("@phBook/addErrror"),g=Object(x.b)("@phBook/getRequest"),C=Object(x.b)("@phBook/getSuccess"),k=Object(x.b)("@phBook/getErrror"),F=Object(x.b)("@phBook/removeRequest"),y=Object(x.b)("@phBook/removeSuccess"),w=Object(x.b)("@phBook/removeErrror"),N=Object(x.b)("@phBook/setFilter"),B=n(3),L=n(37),E=n(38),S=n(47),I=n(46),U=n(39),R=n.n(U),q=function(t){var e=t.text;return Object(r.jsxs)("div",{className:R.a.box,children:[Object(r.jsx)("h4",{children:"Warning!"}),Object(r.jsx)("p",{children:e})]})},D=n(22),J=n.n(D),P=n(23),T=n.n(P),M=n(10),Q={name:"",number:"",validateForm:!0,isExistContact:!1},V=function(t){Object(S.a)(n,t);var e=Object(I.a)(n);function n(){var t;Object(L.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state=Q,t.handleInput=function(e){var n=e.target,r=n.name,a=n.value;t.setState(Object(B.a)({},r,a))},t.handleSubmit=function(e){e.preventDefault();var n=t.props.addContacts,r=t.state,a=r.name,c=r.number;t.validateForm()&&(n({name:a,number:c}),t.setState(Q))},t.onCheckUnique=function(e){var n=!!t.props.listContacts.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));return n?t.setState({isExistContact:!0}):t.setState({isExistContact:!1}),!n},t.validateForm=function(){var e=t.state,n=e.name,r=e.number;return n&&r?(n&&r&&t.setState({validateForm:!0}),t.onCheckUnique(n)):(t.setState({validateForm:!1}),!1)},t}return Object(E.a)(n,[{key:"render",value:function(){var t=this.state.isExistContact,e=this.state,n=e.name,a=e.number,c=e.validateForm;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(o.a,{in:t,classNames:T.a,timeout:250,unmountOnExit:!0,children:Object(r.jsx)(q,{text:"Contact is already exist"})}),Object(r.jsx)(o.a,{in:!c,classNames:T.a,timeout:250,unmountOnExit:!0,children:Object(r.jsx)(q,{text:"Some filed is empty"})}),Object(r.jsxs)("form",{className:J.a.contactForm,onSubmit:this.handleSubmit,children:[Object(r.jsxs)("label",{children:["Name",Object(r.jsx)("input",{type:"text",name:"name",value:n,onChange:this.handleInput})]}),Object(r.jsxs)("label",{children:["Number",Object(r.jsx)("input",{type:"tel",name:"number",value:a,onChange:this.handleInput})]}),Object(r.jsx)("button",{className:J.a.addBtn,type:"submit",children:"Add contact"})]})]})}}]),n}(a.Component),Z={addContacts:function(t){return function(e){e(_()),m(t).then((function(t){e(v(t))})).catch((function(t){return e(A(t))}))}}},G=Object(M.b)((function(t,e){return{listContacts:t.contacts.items}}),Z)(V),W=n(99),H=n(25),Y=n.n(H),z=n(40),K=n.n(z),X=n(41),$=n.n(X),tt={setFilter:N},et=Object(M.b)(null,tt)((function(t){var e=t.filterValue,n=t.setFilter;return Object(r.jsxs)("form",{className:$.a.findField,children:[Object(r.jsx)("h3",{children:"Find contacts by name"}),Object(r.jsx)("input",{value:e,onChange:function(t){var e=t.target.value;n(e)}})]})})),nt=n(42),rt=n.n(nt),at=n(43),ct=n.n(at),it=n(44),ot=n.n(it),st=function(){return Object(r.jsx)(ct.a,{className:ot.a.loader,type:"ThreeDots",color:"#3f51b5",height:100,width:100})},ut={removeContactsFromList:function(t){return function(e){e(F()),O(t).then((function(){e(y(t))})).catch((function(t){return e(w(t))}))}}},lt=Object(M.b)((function(t,e){return{listContacts:t.contacts.items,filter:t.contacts.filter,isloading:t.loading}}),ut)((function(t){var e=t.listContacts,n=t.filter,a=t.removeContactsFromList,c=t.isloading,i=function(t){return t?e.filter((function(e){return e.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())})):e}(n);return Object(r.jsxs)(r.Fragment,{children:[c&&Object(r.jsx)(st,{}),Object(r.jsx)(o.a,{in:e.length>1,classNames:rt.a,timeout:250,unmountOnExit:!0,children:Object(r.jsx)(et,{filterValue:n})}),Object(r.jsx)(W.a,{component:"ul",children:i.map((function(t){return Object(r.jsx)(o.a,{classNames:K.a,timeout:250,children:Object(r.jsxs)("li",{className:Y.a.listItem,children:[Object(r.jsx)("span",{className:Y.a.itemName,children:t.name})," ",Object(r.jsx)("span",{children:t.number}),Object(r.jsx)("button",{type:"button",onClick:function(){a(t.id)},children:"\xd7"})]})},t.id)}))})]})})),bt=n(26),jt=n.n(bt),ft=n(45),dt=n.n(ft),pt=function(){var t=Object(M.c)();return Object(a.useEffect)((function(){t((function(t){t(g()),h().then((function(e){console.log("data",e),t(C(e))})).catch((function(e){return t(k(e))}))}))}),[]),Object(r.jsxs)("div",{className:jt.a.wrapper,children:[Object(r.jsx)(o.a,{in:!0,appear:!0,classNames:dt.a,timeout:500,unmountOnExit:!0,children:Object(r.jsx)("h1",{className:jt.a.headerPhoneboo,children:"Phonebook"})}),Object(r.jsx)(G,{}),Object(r.jsx)(lt,{})]})},mt=n(16),ht=n(7),Ot=n(15),xt=Object(x.c)({items:[],filter:""},(d={},Object(B.a)(d,v,(function(t,e){return Object(l.a)(Object(l.a)({},t),{},{items:[e.payload].concat(Object(mt.a)(t.items))})})),Object(B.a)(d,C,(function(t,e){return Object(l.a)(Object(l.a)({},t),{},{items:Object(mt.a)(e.payload)})})),Object(B.a)(d,y,(function(t,e){return Object(l.a)(Object(l.a)({},t),{},{items:t.items.filter((function(t){return t.id!==e.payload}))})})),Object(B.a)(d,N,(function(t,e){return Object(l.a)(Object(l.a)({},t),{},{filter:e.payload})})),d)),_t=Object(x.c)(!1,(p={},Object(B.a)(p,_,(function(){return!0})),Object(B.a)(p,v,(function(){return!1})),Object(B.a)(p,A,(function(){return!1})),Object(B.a)(p,g,(function(){return!0})),Object(B.a)(p,C,(function(){return!1})),Object(B.a)(p,k,(function(){return!1})),Object(B.a)(p,F,(function(){return!0})),Object(B.a)(p,y,(function(){return!1})),Object(B.a)(p,w,(function(){return!1})),p)),vt=Object(ht.c)({contacts:xt,loading:_t}),At=Object(x.a)({reducer:vt,middleware:[].concat(Object(mt.a)(Object(x.d)()),[Ot.a])});i.a.render(Object(r.jsx)(M.a,{store:At,children:Object(r.jsx)(pt,{})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.4cbfcdf5.chunk.js.map